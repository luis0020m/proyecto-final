<h1>Detalle de Compras</h1>

<form method="POST">
    <label for="id_compra">Compra:</label>
    <select name="id_compra">
        {% for compra in compras %}
        <option value="{{ compra.id_compra }}">{{ compra.id_compra }}</option>
        {% endfor %}
    </select>

    <label for="id_producto">Producto:</label>
    <select name="id_producto">
        {% for producto in productos %}
        <option value="{{ producto.id_producto }}">{{ producto.nombre_producto }}</option>
        {% endfor %}
    </select>

    <label for="cantidad">Cantidad:</label>
    <input type="number" name="cantidad" required>

    <label for="precio_unitario">Precio Unitario:</label>
    <input type="number" step="0.01" name="precio_unitario" required>

    <button type="submit">Agregar Detalle</button>
</form>

<h2>Detalles registrados</h2>
<table>
    <tr>
        <th>ID Detalle</th>
        <th>ID Compra</th>
        <th>ID Producto</th>
        <th>Cantidad</th>
        <th>Precio Unitario</th>
        <th>Subtotal</th>
    </tr>
    {% for detalle in detalles %}
    <tr>
        <td>{{ detalle.id_detalle }}</td>
        <td>{{ detalle.id_compra }}</td>
        <td>{{ detalle.id_producto }}</td>
        <td>{{ detalle.cantidad }}</td>
        <td>{{ detalle.precio_unitario }}</td>
        <td>{{ detalle.subtotal }}</td>
    </tr>
    {% endfor %}
</table>
